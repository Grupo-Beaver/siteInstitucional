<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/componente.css">
    <link rel="stylesheet" href="./css/reportarEditor.css">
    <script src="./js/componente.js"></script>
    <link rel="shortcut icon" href="./img/logo 2.png" type="image/x-icon">
    <title>Beaver</title>
</head>

<body onload="test()">
    <main-menu-editor></main-menu-editor>
    <section>
        <div class="titulo">
            <h1>Reportar Problema</h1>
        </div>
        <div class="container">
            <div class="esquerda">
                <div class="componente">
                    <h3>Data</h3>
                    <div class="amostragem">
                        <p id="data"></p>
                    </div>
                </div>
                <div class="componente">
                    <h3>Máquina</h3>
                    <div class="amostragem">
                        <p id="maquina">Maquina</p>
                    </div>
                </div>

                <div class="componente">
                    <h3>Frequência</h3>
                    <div class="input-dad">
                        <div class="inputes">
                            <input type="radio" name="r1" id="">
                            <p class="p">Alta</p>
                        </div>
                        <div class="inputes">
                            <input type="radio" name="r1" id="">
                            <p class="p">Média</p>
                        </div>
                        <div class="inputes">
                            <input type="radio" name="r1" id="">
                            <p class="p">Baixa</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="direita">
                <h3 class="ac">Problema ocorrido:</h3>
                <div class="input-mom">
                    <div class="inputes">
                        <input type="radio" name="radius" value="">
                        <p class="p">Travamento</p>
                    </div>
                    <div class="inputes">
                        <input type="radio" name="radius" id="">
                        <p class="p">Lentidão</p>
                    </div>
                    <div class="inputes">
                        <input type="radio" name="radius" id="">
                        <p class="p">Desligamento</p>
                    </div>
                    <div class="inputes">
                        <input type="radio" name="radius" id="">
                        <p class="p">Superaquecimento</p>
                    </div>
                    <div class="inputes">
                        <input type="radio" name="radius" id="">
                        <p class="p">Outros</p>
                    </div>
                    <input type="text">
                </div>
            </div>
        </div>
        <button onclick="a()">Enviar</button>
    </section>
</body>

</html>

<script>
    imgEnviarReporte.src = "img/enviarReporteLocal.png";
    now = new Date();
    data.innerHTML = now.toLocaleDateString();
    var idUsuario = sessionStorage.ID_USUARIO;

    function test(){
        fetch(`/maquinas/nameMaquinaById/${idUsuario}`, {
        method: "GET",
        headers: {
            "Content-Type": "application/json"
        },

    })
        .then(resposta => {

            if (resposta.ok) {
                console.log(resposta);

                resposta.json().then(json => {
                    console.log(json);
                    console.log(JSON.stringify(json));
                    maquina.innerHTML = json[0].nome;
                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
        .catch(function (error) {
            console.error(`Erro na obtenção dos dados da maquina: ${error.message}`);
        });
    }

    
</script>